<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acid-Base Titration Simulator</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    <style>
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Acid-Base Titration Simulator</h1>
        </header>
        
        <main>
            <div class="setup-panel">
                <div class="panel-section">
                    <h2>Titration Setup</h2>
                    <!-- <div style="position: fixed; bottom: 10px; right: 10px; background: #333; color: #fff; padding: 8px 12px; border-radius: 5px;">
                        <a href="/" style="color: #fff; text-decoration: none;">Back to Dashboard</a>
                    </div> -->
                    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
                        <a href="/" style="display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; background-color: #3498db; color: white; border-radius: 50%; box-shadow: 0 4px 8px rgba(0,0,0,0.3); text-decoration: none; transition: transform 0.3s ease, box-shadow 0.3s ease;" title="Back to Dashboard">
                            <i class="fas fa-home" style="font-size: 20px;"></i>
                        </a>
                    </div>
                    <div class="setup-form">
                        <div class="form-group">
                            <label for="standard-type">Standard Solution:</label>
                            <select id="standard-type">
                                <option value="acid">Acid (in Burette)</option>
                                <option value="base">Base (in Burette)</option>
                            </select>
                        </div>

                        <div id="acid-options" class="solution-options">
                            <div class="form-group">
                                <label for="acid-type">Acid:</label>
                                <select id="acid-type">
                                    <option value="hydrochloric">Hydrochloric Acid (Strong)</option>
                                    <option value="sulfuric">Sulfuric Acid (Strong)</option>
                                    <option value="ethanoic">Ethanoic Acid (Weak)</option>
                                    <option value="ascorbic">Ascorbic Acid (Weak)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="acid-concentration">Concentration (mol/L):</label>
                                <input type="number" id="acid-concentration" min="0.001" max="2" step="0.001" value="0.1">
                            </div>
                        </div>

                        <div id="base-options" class="solution-options">
                            <div class="form-group">
                                <label for="base-type">Base:</label>
                                <select id="base-type">
                                    <option value="sodium-hydroxide">Sodium Hydroxide (Strong)</option>
                                    <option value="ammonia">Ammonia (Weak)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="base-concentration">Concentration (mol/L):</label>
                                <input type="number" id="base-concentration" min="0.001" max="2" step="0.001" value="0.1">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="analyte-volume">Analyte Volume (mL):</label>
                            <input type="number" id="analyte-volume" min="1" max="100" step="0.1" value="25">
                        </div>

                        <div class="form-group">
                            <label for="indicator">Indicator:</label>
                            <select id="indicator">
                                <option value="auto">Auto-select</option>
                                <option value="phenolphthalein">Phenolphthalein</option>
                                <option value="methyl-orange">Methyl Orange</option>
                                <option value="bromothymol-blue">Bromothymol Blue</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <button id="setup-titration" class="primary-btn">Setup Titration</button>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <div class="collapsible">
                        <h2>Titration Theory <i class="fas fa-chevron-down"></i></h2>
                    </div>
                    <div class="collapsible-content">
                        <p>Acid-base titrations are analytical methods used to determine the concentration of an acid or base by neutralizing it with a base or acid of known concentration.</p>
                        <p><strong>Strong Acid + Strong Base:</strong> Sharp endpoint, pH changes rapidly at equivalence point (pH 7).</p>
                        <p><strong>Weak Acid + Strong Base:</strong> Endpoint at pH > 7, use phenolphthalein.</p>
                        <p><strong>Strong Acid + Weak Base:</strong> Endpoint at pH < 7, use methyl orange.</p>
                        <p><strong>Calculations:</strong> At equivalence point, moles of acid = moles of base (adjusted for stoichiometry).</p>
                        <p>For acid HA and base BOH: HA + BOH → H₂O + BA</p>
                        <p>Moles = Concentration × Volume (in L)</p>
                    </div>
                </div>
            </div>

            <div class="titration-lab" style="display: none;">
                <div class="lab-visualization">
                    <div class="equipment">
                        <div class="burette-container">
                            <div class="burette">
                                <div class="burette-liquid"></div>
                                <div class="burette-scale"></div>
                                <div class="burette-reading">50.00 mL</div>
                                <div class="burette-stopcock closed"></div>
                            </div>
                            <div class="burette-controls">
                                <button id="add-drop" class="lab-btn"><i class="fas fa-tint"></i> Add Drop</button>
                                <button id="slow-add" class="lab-btn"><i class="fas fa-tint"></i><i class="fas fa-tint"></i> Slow Add</button>
                                <button id="fast-add" class="lab-btn"><i class="fas fa-tint"></i><i class="fas fa-tint"></i><i class="fas fa-tint"></i> Fast Add</button>
                                <button id="stop-add" class="lab-btn" disabled><i class="fas fa-stop"></i> Stop</button>
                            </div>
                        </div>

                        <div class="flask-container">
                            <div class="flask">
                                <div class="flask-liquid">
                                    <div class="swirl-animation"></div>
                                </div>
                                <div class="magnetic-stirrer"></div>
                            </div>
                            <div class="flask-controls">
                                <button id="toggle-stirrer" class="lab-btn"><i class="fas fa-sync-alt"></i> Toggle Stirrer</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="indicators-panel">
                        <div class="current-pH">
                            <div class="label">Current pH:</div>
                            <div id="ph-value">7.00</div>
                        </div>
                        <div class="indicator-color" id="indicator-color"></div>
                        <div class="burette-current-reading">
                            <div class="label">Burette Reading:</div>
                            <div id="current-volume">0.00 mL</div>
                        </div>
                        <button id="record-reading" class="primary-btn"><i class="fas fa-plus"></i> Record Reading</button>
                    </div>
                </div>

                <div class="data-panel">
                    <div class="panel-section">
                        <div class="collapsible">
                            <h2>Titration Data <i class="fas fa-chevron-down"></i></h2>
                        </div>
                        <div class="collapsible-content">
                            <table id="readings-table">
                                <thead>
                                    <tr>
                                        <th>Reading #</th>
                                        <th>Volume (mL)</th>
                                        <th>pH</th>
                                        <th>Notes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be added here dynamically -->
                                </tbody>
                            </table>
                            <div class="table-controls">
                                <button id="clear-table" class="secondary-btn"><i class="fas fa-trash"></i> Clear Data</button>
                                <button id="export-csv" class="secondary-btn"><i class="fas fa-file-export"></i> Export CSV</button>
                            </div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <div class="collapsible">
                            <h2>Titration Curve <i class="fas fa-chevron-down"></i></h2>
                        </div>
                        <div class="collapsible-content">
                            <div id="curve-container">
                                <canvas id="titration-curve"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <div class="collapsible">
                            <h2>Calculations <i class="fas fa-chevron-down"></i></h2>
                        </div>
                        <div class="collapsible-content">
                            <div id="calculations">
                                <p>Record the endpoint volume to see calculations.</p>
                                <div id="calculation-details" style="display: none;">
                                    <div class="calculation-row">
                                        <span class="calculation-label">Endpoint Volume:</span>
                                        <span id="endpoint-volume">0.00 mL</span>
                                    </div>
                                    <div class="calculation-row">
                                        <span class="calculation-label">Analyte Concentration:</span>
                                        <span id="analyte-concentration">0.000 mol/L</span>
                                    </div>
                                    <div class="calculation-steps">
                                        <h3>Calculation Steps:</h3>
                                        <div id="calculation-steps-content"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lab-controls">
                    <button id="reset-titration" class="secondary-btn"><i class="fas fa-undo"></i> Reset Titration</button>
                    <button id="new-experiment" class="primary-btn"><i class="fas fa-flask"></i> New Experiment</button>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Acid-Base Titration Simulator © 2025</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <!-- <script src="script.js"></script>
    <script src="app.js"></script>
    <script src="main.js"></script> -->
    <script src="./script.js"></script>
</body>
</html>